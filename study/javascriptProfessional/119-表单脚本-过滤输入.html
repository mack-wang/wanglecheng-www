<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>

<form action="http://www.yurencloud.com/h5/form.php" method="get" id="i-form">
    <input type="text" placeholder="请输入姓名" name="username" id="i-username">
    <input type="text" placeholder="请输入手机号" name="phone" id="i-phone">
    <input type="text" placeholder="请输入邮箱" name="email" id="i-email">
    <input type="password" placeholder="请输入密码" name="email" id="i-password">
    <input type="text" value="我是中国人我是中国人哈哈哈哈" name="txt">
    <input type="submit" value="提交" name="submit" id="i-submit">
</form>


</body>
<script src="EventUtil.js"></script>
<script type="text/javascript">

    var form = document.getElementById("i-form");
    var username = document.getElementById("i-username");
    var phone = document.getElementById("i-phone");
    var email = document.getElementById("i-email");
    var password = document.getElementById("i-password");
    var submit = document.getElementById("i-submit");

    //禁止输入,这个和diabled不同，这个是可以获得焦点，但是不能进行输入
    EventUtil.addHandler(username,"keypress",function (event) {
        event=EventUtil.getEvent(event);
        EventUtil.preventDefault(event);
    });

    //禁止非法字符输入
    EventUtil.addHandler(phone,"keypress",function (event) {
        event=EventUtil.getEvent(event);
        var target = EventUtil.getTarget(event);
        var charCode = EventUtil.getCharCode(event);
        if (!/[1-9]/.test(String.fromCharCode(charCode)) && charCode >9 && !event.ctrlKey && !event.metaKey){
            EventUtil.preventDefault(event);
        }
    });

    //禁止非法字符通过粘贴板输入
    EventUtil.addHandler(email,"paste",function (event) {
        event = EventUtil.getEvent(event);
        //获取现在剪贴板中的字符串或其他内容
        var text = EventUtil.getClipboardText(event);
        //若上述内容中不是数字，则禁止输入
        if (!/[0-9]/.test(text)){
            EventUtil.preventDefault(event);
            alert("您粘贴的不是数字")
        }
    })




    


</script>

</html>
